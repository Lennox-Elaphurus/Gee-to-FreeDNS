# Gee-to-FreeDNS

## 功能

维持FreeDNS中的域名指向极路由（一款路由器）的外部IP，部署于树莓派，应该也适用于其他Linux发行版。

## 为什么要这样做

我希望能通过校园网访问树莓派，但我没能找到方法用树莓派直接登录校园网。所以我只好通过自己的极路由登录校园后，用网线连接路由器和树莓派。而这样在内网中就多了极路由这一层NAT，使得树莓派无法直接获得能供校园网其他用户直接访问的内网IP。
这个项目让树莓派获得校园网给极路由的内网IP并维护域名。如果提前设置好极路由的DMZ和端口转发，就可以用域名通过内网访问树莓派。

## 工作流程

1. 使用selenium让树莓派登录极路由的后台，读取极路由的内网IP
2. 使用curl将FreeDNS中的域名更新为上述IP 或 通过email发送上述IP

## 使用方式

1. 将代码放到/home/pi/updateIP文件夹下 （如果放在其他路径需要修改ip.sh中的对应路径）
2. 填好getIP.py中的极路由登录密码，极路由系统版本，极路由后台地址
3. 修改ip.sh中的curl一行，将FreeDNS的账号密码和域名填入对应位置
4. 用crontab定时执行ip.sh

## 可选功能

如果不使用FreeDNS等域名，也可以通过取消ip.sh中的注释，并在mail.py中设置好邮箱账号后，通过crontab定时执行ip.sh，定时将内网IP发送为email。
如果你已经设置好极路由的转发，就能通过获得的内网IP直接访问树莓派。